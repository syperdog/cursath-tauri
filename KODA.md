# План разработки системы СТО (KODA)

проект использует pnpm
стек React + TypeScript


## Обзор проекта
Система управления станцией технического обслуживания с 5 ролями пользователей:
- **Администратор** - полный доступ к системе
- **Мастер-Приёмщик** - управление заказами от приемки до выдачи
- **Диагност** - выявление неисправностей
- **Кладовщик** - управление запчастями и складом
- **Работник** - выполнение ремонтных работ

## Деление на части для поэтапной реализации

### **Часть 1: Базовая аутентификация**
- 1.1. Форма входа для админ/мастер/диагност/кладовщик
- 1.2. PIN-код вход для работников  
- 1.3. Управление сессиями
- 1.4. Выход из системы

### **Часть 2: Управление пользователями (только Админ)**
- 2.1. Просмотр списка сотрудников
- 2.2. Добавление нового сотрудника
- 2.3. Редактирование сотрудника
- 2.4. Удаление сотрудника
- 2.5. Настройки системы

### **Часть 3: Управление клиентами (Мастер-Приёмщик)**
- 3.1. Поиск клиента по телефону/имени
- 3.2. Регистрация нового клиента
- 3.3. Редактирование данных клиента
- 3.4. Просмотр истории клиента

### **Часть 4: Управление автомобилями**
- 4.1. Поиск авто по госномеру/VIN
- 4.2. Добавление нового автомобиля
- 4.3. VIN-декодер (API интеграция)
- 4.4. История обслуживания авто
- 4.5. Привязка авто клиенту

### **Часть 5: Система заказов (базовая)**
- 5.1. Создание нового заказа
- 5.2. Просмотр деталей заказа
- 5.3. Изменение статусов заказа
- 5.4. Отмена заказа
- 5.5. Архив заказов

### **Часть 6: Интерфейс Диагноста**
- 6.1. Список заказов на диагностику
- 6.2. Добавление неисправностей
- 6.3. Справочник неисправностей
- 6.4. Завершение диагностики

### **Часть 7: Интерфейс Кладовщика - Подбор**
- 7.1. Список заказов на подбор запчастей
- 7.2. Поиск запчастей у поставщиков
- 7.3. Формирование предложений
- 7.4. Отправка предложений мастеру

### **Часть 8: Интерфейс Кладовщика - Склад**
- 8.1. Просмотр остатков склада
- 8.2. Выдача запчастей в цех
- 8.3. Списание запчастей
- 8.4. Добавление новых позиций

### **Часть 9: Интерфейс Мастера - Согласование**
- 9.1. Просмотр предложений от кладовщика
- 9.2. Добавление стоимости работ
- 9.3. Согласование с клиентом
- 9.4. Назначение исполнителей

### **Часть 10: Интерфейс Работника**
- 10.1. Список назначенных задач
- 10.2. Отметка выполненных работ
- 10.3. Просмотр отчета диагноста
- 10.4. Запрос запчастей у кладовщика

### **Часть 11: Финальная обработка**
- 11.1. Контроль качества (Мастер)
- 11.2. Оформление выдачи
- 11.3. Регистрация предоплаты
- 11.4. Печать документов

### **Часть 12: Дополнительные функции**
- 12.1. Календарь и планирование
- 12.2. Система уведомлений
- 12.3. Журнал событий (логи)
- 12.4. Экспорт отчетов

### **Часть 13: База данных**
- 13.1. Схема БД (таблицы, связи)
- 13.2. Миграции БД
- 13.3. Заполнение тестовыми данными
- 13.4. API для фронтенда

## Настройка базы данных

БД уже запущена ничего запускать не нужно
пользователь gisei
пароль #R85}9an
БД cursat

запускать проект лучше через pnpm run tauri dev

таблицы в базе данных уже присуствуют из файла postgres_schema.sql
и уже есть данные из populate_database.sql
создавать новую базу данных в коде не нужно

### Подключение к проекту
- 1. Создать файл конфигурации базы данных в backend (Rust)
- 2. Настроить переменные окружения для подключения к БД
- 3. Реализовать пул соединений с базой данных
- 4. Выполнить миграции схемы БД
- 5. Заполнить базу тестовыми данными
- 6. Проверить подключение через тестовый запрос

### Структура файлов БД
- `postgres_schema.sql` - схема базы данных
- `populate_database.sql` - тестовые данные
- `database_design.md` - документация по структуре БД

## Технический стек
- **Frontend**: React + TypeScript + Vite
- **Backend**: Rust + Tauri
- **База данных**: PostgreSQL
- **Стилизация**: CSS + ASCII интерфейсы

## Принципы реализации
- Каждая часть максимально независима
- Поэтапная разработка и тестирование
- Single Window Interface с модальными окнами
- Адаптивный дизайн для разных устройств
